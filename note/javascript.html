<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | MaoZZ17</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="随便记些东西~">
    <link rel="preload" href="/assets/css/0.styles.f8c92f0b.css" as="style"><link rel="preload" href="/assets/js/app.6c44c61c.js" as="script"><link rel="preload" href="/assets/js/2.899c2632.js" as="script"><link rel="preload" href="/assets/js/12.b6ddae06.js" as="script"><link rel="prefetch" href="/assets/js/10.115ac37c.js"><link rel="prefetch" href="/assets/js/11.2f3aab4d.js"><link rel="prefetch" href="/assets/js/13.4f7b1951.js"><link rel="prefetch" href="/assets/js/14.8163ff1a.js"><link rel="prefetch" href="/assets/js/15.a0bfb50f.js"><link rel="prefetch" href="/assets/js/16.9d42cb12.js"><link rel="prefetch" href="/assets/js/17.4efeae7d.js"><link rel="prefetch" href="/assets/js/18.31d540b2.js"><link rel="prefetch" href="/assets/js/19.200240a6.js"><link rel="prefetch" href="/assets/js/20.baf8f220.js"><link rel="prefetch" href="/assets/js/21.606a30dd.js"><link rel="prefetch" href="/assets/js/22.e8b9efce.js"><link rel="prefetch" href="/assets/js/3.c70f0157.js"><link rel="prefetch" href="/assets/js/4.24ec9888.js"><link rel="prefetch" href="/assets/js/5.693eaf24.js"><link rel="prefetch" href="/assets/js/6.1c1e4092.js"><link rel="prefetch" href="/assets/js/7.7753aa5a.js"><link rel="prefetch" href="/assets/js/8.e470fa49.js"><link rel="prefetch" href="/assets/js/9.5d51f8b7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f8c92f0b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="MaoZZ17" class="logo"> <span class="site-name can-hide">MaoZZ17</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/experience/" class="nav-link">
  踩坑
</a></div><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  笔记
</a></div><div class="nav-item"><a href="/demo/" class="nav-link">
  demo
</a></div><div class="nav-item"><a href="https://github.com/MaoZZ17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/experience/" class="nav-link">
  踩坑
</a></div><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  笔记
</a></div><div class="nav-item"><a href="/demo/" class="nav-link">
  demo
</a></div><div class="nav-item"><a href="https://github.com/MaoZZ17" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/" aria-current="page" class="sidebar-link">笔记</a></li><li><a href="/note/algorithm.html" class="sidebar-link">算法</a></li><li><a href="/note/html.html" class="sidebar-link">HTML</a></li><li><a href="/note/css.html" class="sidebar-link">CSS</a></li><li><a href="/note/javascript.html" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript.html#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript.html#undefined" class="sidebar-link">Undefined</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#null" class="sidebar-link">Null</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#boolean" class="sidebar-link">Boolean</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#number" class="sidebar-link">Number</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#string" class="sidebar-link">String</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#bigint" class="sidebar-link">BigInt</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#object" class="sidebar-link">Object</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#数据类型间的转换" class="sidebar-link">数据类型间的转换</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#数据类型的存储" class="sidebar-link">数据类型的存储</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript.html#标准内置对象" class="sidebar-link">标准内置对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript.html#值属性" class="sidebar-link">值属性</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#函数属性" class="sidebar-link">函数属性</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#基本对象" class="sidebar-link">基本对象</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#数字和日期对象" class="sidebar-link">数字和日期对象</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#bigint-2" class="sidebar-link">BigInt</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript.html#执行上下文" class="sidebar-link">执行上下文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript.html#执行上下文的类型" class="sidebar-link">执行上下文的类型</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#执行栈" class="sidebar-link">执行栈</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#创建执行上下文" class="sidebar-link">创建执行上下文</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript.html#作用域" class="sidebar-link">作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript.html#变量的作用域" class="sidebar-link">变量的作用域</a></li><li class="sidebar-sub-header"><a href="/note/javascript.html#作用域链" class="sidebar-link">作用域链</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript.html#闭包" class="sidebar-link">闭包</a></li></ul></li><li><a href="/note/vue.html" class="sidebar-link">Vue</a></li><li><a href="/note/computer_network.html" class="sidebar-link">计算机网络</a></li><li><a href="/note/http.html" class="sidebar-link">HTTP</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <div class="custom-block tip"><p class="custom-block-title">参考</p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures" target="_blank" rel="noopener noreferrer">MDN JavaScript 数据类型和数据结构<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>《JavaScript 高级程序设计》</p></div> <p>7种原始数据类型： <a href="#undefined"><code>Undefined</code></a>、<a href="#null"><code>Null</code></a>、<a href="#boolean"><code>Boolean</code></a>、<a href="#number"><code>Number</code></a>、<a href="#string"><code>String</code></a>、<a href="#symbol"><code>Symbol</code></a>(ES6新增)和<a href="#bigint"><code>BigInt</code></a>(ES10新增)</p> <p>1种引用数据类型： <a href="#object"><code>Object</code></a></p> <h3 id="undefined"><a href="#undefined" class="header-anchor">#</a> Undefined</h3> <p><code>Undefined</code>类型只有一个值<code>undefined</code>，一个变量在声明后未初始化时，这个变量的值就是<code>undefined</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">注意</p> <p>即便未处理化的变量会自动被赋予undefined值，但显示地初始化变量依然是明智的选择。如果能够做到这一点，那么当typeof操作符返回&quot;undefined&quot;值时，我们就知道被检测的变量还没有被声明，而不是尚未初始化。</p></div> <h3 id="null"><a href="#null" class="header-anchor">#</a> Null</h3> <p><code>Null</code> 类型有一个值 <code>null</code>。<code>null</code> 值表示一个空对象指针，使用 <code>typeof</code> 操作符检测 <code>null</code> 值时会返回<code>”object“</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// &quot;object&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="boolean"><a href="#boolean" class="header-anchor">#</a> Boolean</h3> <p><code>Boolean</code>类型有两个值 <code>true</code>和<code>false</code>。JavaScript中所有类型的值都有与这两个值等价的值，可以使用Boolean()将其转换。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 转换为 false 的值</span>
<span class="token keyword">let</span> bNoParam <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bZero <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bNaN <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bNull <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bUndefined <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bEmptyString <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bfalse <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 转换为 true 的值</span>
<span class="token keyword">let</span> btrue <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> btrueString <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">'true'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bfalseString <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bSpaceString <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bArrayProto <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bObjProto <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="number"><a href="#number" class="header-anchor">#</a> Number</h3> <p><code>Number</code>类型为双精度IEEE 754 64位浮点类型。除了表示浮点数，<code>Number</code>类型还有三个符号值： <code>+Infinity</code>，<code>-Infinity</code>，<code>NaN</code>（Not a Number）。</p> <p>可以使用<code>Number.MAX_VALUE</code> 和 <code>Number.MIN_VALUE</code>来过的<code>±Infinity</code>内的最大最小可用值。</p> <p>还可以使用<code>Number.isSafeInteger()</code> 以及 <code>Number.MAX_SAFE_INTEGER</code> 和 <code>Number.MIN_SAFE_INTEGER</code>确认数字是否在双精度浮点数范围内。超出此范围，JavaScript中的整数将不再安全，它将成为该值的双精度浮点近似值。</p> <p><code>Number.EPSILON</code> 表示 <code>1</code> 与<code>Number</code>可表示的大于 <code>1</code> 的最小的浮点数之间的差值。<code>EPSILON</code> 属性的值接近于 2.2204460492503130808472633361816E-16，或者 2<sup>-52</sup>。</p> <p><code>Number</code>支持八进制(<code>0</code>打头)和十六进制(<code>0x</code>打头)，也支持科学计数法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> num10 <span class="token operator">=</span> <span class="token number">17</span>   <span class="token comment">//17</span>
<span class="token keyword">let</span> num8 <span class="token operator">=</span> <span class="token number">021</span>   <span class="token comment">//021 等于十进制的17</span>
<span class="token keyword">let</span> num16 <span class="token operator">=</span> <span class="token number">0x11</span> <span class="token comment">//0x17 等于十进制的17</span>
<span class="token keyword">let</span> numS <span class="token operator">=</span> <span class="token number">1.7E1</span> <span class="token comment">//1.7E1 等于十进制的17</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <p><code>String</code>类型用于表示文本数据。它是一组16位无符号整数值的“元素”。字符串中的每个元素在字符串中都占有一个位置。第一个元素在索引<code>0</code>处，第二个元素在索引<code>1</code>处，依此类推。字符串的长度是其中的元素数。可以由双引号(&quot;)和单引号(')表示。</p> <p>JavaScript字符串是不可变的。 这意味着一旦创建了字符串，就无法对其进行修改。但是仍然可以基于对原始字符串的操作来创建另一个字符串。</p> <h4 id="字符字面量"><a href="#字符字面量" class="header-anchor">#</a> 字符字面量</h4> <p><code>String</code>数据类型包含一些特殊的字符字面量，也叫转义序列，用于表示非打印字符，或者具有其他用途的字符。这些字符字面量如下表所示：</p> <table><thead><tr><th>字面量</th> <th>含义</th></tr></thead> <tbody><tr><td>\n</td> <td>换行</td></tr> <tr><td>\t</td> <td>制表</td></tr> <tr><td>\b</td> <td>退格</td></tr> <tr><td>\r</td> <td>回车</td></tr> <tr><td>\f</td> <td>进纸</td></tr> <tr><td>\\</td> <td>斜杠</td></tr> <tr><td>\'</td> <td>单引号</td></tr> <tr><td>\&quot;</td> <td>双引号</td></tr> <tr><td>\xnn</td> <td>以十六进制代码nn表示的一个字符</td></tr> <tr><td>\unnnn</td> <td>以十六进制代码nnnn表示的一个Unicode字符</td></tr></tbody></table> <h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h3> <p><code>Symbol()</code>函数会返回<code>symbol</code>类型的值，该类型具有静态属性和静态方法。它的静态属性会暴露几个内建的成员对象；它的静态方法会暴露全局的<code>symbol</code>注册，且类似于内建对象类，但作为构造函数来说它并不完整，因为它不支持语法：<code>new Symbol()</code>。
每个从<code>Symbol()</code>返回的<code>symbol</code>值都是唯一的。一个<code>symbol</code>值能作为对象属性的标识符；这是该数据类型仅有的目的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> sym1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym1<span class="token punctuation">)</span>           <span class="token comment">//Symbol(a)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>sym1<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//&quot;symbol&quot;</span>
<span class="token keyword">let</span> sym2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym1 <span class="token operator">===</span> sym2<span class="token punctuation">)</span>    <span class="token comment">//false</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
obj<span class="token punctuation">[</span>sym1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span>
obj<span class="token punctuation">[</span>sym2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'2'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>          <span class="token comment">//{ [Symbol(a)]: '1', [Symbol(a)]: '2' }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>sym1<span class="token punctuation">)</span>       <span class="token comment">//undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>sym1<span class="token punctuation">]</span><span class="token punctuation">)</span>      <span class="token comment">//&quot;1&quot;</span>
<span class="token comment">//注意</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>          <span class="token comment">//无输出</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>                  <span class="token comment">//[]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//[]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//[ Symbol(a), Symbol(a) ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">注意</p> <p><code>Symbol</code>作为属性值时，该属性是公有属性不是私有属性，可以在类的外部访问。但是不会出现在 <code>for...in</code>、<code>for...of</code>的循环中，也不会被<code>Object.keys()</code>、<code>Object.getOwnPropertyNames()</code>返回。如果要读取到一个对象的<code>Symbol</code>属性，可以通过<code>Object.getOwnPropertySymbols()</code>读取。</p></div> <h4 id="symbol-for"><a href="#symbol-for" class="header-anchor">#</a> Symbol.for()</h4> <p><code>Symbol.for(key)</code> 方法会根据给定的键 <code>key</code>，来从运行时的 <code>symbol</code> 注册表中找到对应的 <code>symbol</code>，如果找到了，则返回它，否则，新建一个与该键关联的 <code>symbol</code>，并放入全局 <code>symbol</code> 注册表中。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个 symbol 并放入 symbol 注册表中，键为 &quot;foo&quot;</span>
Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从 symbol 注册表中读取键为&quot;foo&quot;的 symbol</span>

Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true，证明了上面说的</span>
<span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false，Symbol() 函数每次都会返回新的一个 symbol</span>

<span class="token keyword">var</span> sym <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;mario&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sym<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Symbol(mario)&quot;</span>
<span class="token comment">//mario 既是该 symbol 在 symbol 注册表中的键名，又是该 symbol 自身的描述字符串</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">注意</p> <p>为了防止冲突，最好给你要放入 <code>symbol</code> 注册表中的 <code>symbol</code> 带上键前缀。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;my.foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;my.bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div> <h4 id="symbol-keyfor"><a href="#symbol-keyfor" class="header-anchor">#</a> Symbol.keyFor()</h4> <p><code>Symbol.keyFor(sym)</code> 方法用来获取 <code>symbol</code> 注册表中与某个 <code>symbol</code> 关联的键。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 创建一个 symbol 并放入 Symbol 注册表，key 为 &quot;foo&quot;</span>
<span class="token keyword">var</span> globalSym <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>globalSym<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;foo&quot;</span>

<span class="token comment">// 创建一个 symbol，但不放入 symbol 注册表中</span>
<span class="token keyword">var</span> localSym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>localSym<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined，所以是找不到 key 的</span>

<span class="token comment">// well-known symbol 们并不在 symbol 注册表中</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="bigint"><a href="#bigint" class="header-anchor">#</a> BigInt</h3> <p><code>BigInt</code>类型是 JavaScript 中的一个基础的数值类型，可以用任意精度表示整数。使用 <code>BigInt</code>，可以安全地存储和操作大整数，甚至可以超过数字的安全整数限制。<code>BigInt</code>是通过在整数末尾附加 <code>n</code> 或调用构造函数来创建的。</p> <p>通过使用常量<code>Number.MAX_SAFE_INTEGER</code>，可以获得可以用数字递增的最安全的值。通过引入 <code>BigInt</code>，您可以操作超过<code>Number.MAX_SAFE_INTEGER</code>的数字。可以在下面的示例中观察到这一点，其中递增<code>Number.MAX_SAFE_INTEGER</code>会返回预期的结果:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">2n</span> <span class="token operator">**</span> <span class="token number">53n</span><span class="token punctuation">;</span>
<span class="token number">9007199254740992n</span>
<span class="token operator">&gt;</span> <span class="token keyword">const</span> y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1n</span><span class="token punctuation">;</span> 
<span class="token number">9007199254740993n</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>可以对<code>BigInt</code>使用运算符<code>+</code>、<code>*</code>、<code>-</code>、<code>**</code>和<code>%</code>，就像对数字一样。<code>BigInt</code> 严格来说并不等于一个数字，但它是松散的。</p> <p>在将<code>BigInt</code>转换为<code>Boolean</code>时，它的行为类似于一个数字：<code>if</code>、<code>||</code>、<code>&amp;&amp;</code>、<code>Boolean</code> 和<code>!</code>。</p> <blockquote><p><code>BigInt</code>不能与数字互换操作。否则，将抛出<code>TypeError</code>。</p></blockquote> <h3 id="object"><a href="#object" class="header-anchor">#</a> Object</h3> <p>JavaScript中的对象其实就是一组数据和功能的集合。对象可以通过执行<code>new</code>操作符后跟要创建的对象类型的名称来创建。而创建<code>Object</code>类型的实例并为其添加属性和方法，就可以创建自定义对象。属性的值可以是任意类型，包括具有复杂数据结构的对象。属性使用键来标识，它的键值可以是一个字符串或者符号值（<code>Symbol</code>）。</p> <p><code>Object</code>的每个实例都具有下列属性和方法：</p> <ul><li><code>constructor</code>: 保存着用于创建当前对象的函数。</li> <li><code>hasOwnProperty(propertyName)</code>: 用于检查给定的属性在当前对象实例中是否存在。其中作为参数的属性名(<code>propertyName</code>)必须以字符串形式指定。</li> <li><code>isPrototypeOf(object)</code>: 用于检查传入的对象是否是当前对象的原型。</li> <li><code>propertyIsEnumerable</code>: 用于检查给定的属性是否能够使用<code>for-in</code>语句来枚举。其中作为参数的属性名(<code>propertyName</code>)必须以字符串形式指定。</li> <li><code>toLocaleString()</code>: 返回对象的字符串表示，该字符串与执行环境的地区对应。</li> <li><code>toString()</code>: 返回对象的字符串表示。</li> <li><code>valueOf()</code>: 返回对象的字符串、数值或布尔值表示。通常与<code>toString()</code>方法的返回值相同。</li></ul> <p><code>Object</code>是所有对象的基础，因此所有对象都具有这些基本的属性和方法。</p> <h3 id="数据类型间的转换"><a href="#数据类型间的转换" class="header-anchor">#</a> 数据类型间的转换</h3> <ul><li>转换为布尔值（调用<code>Boolean()</code>方法和<code>！！</code>(双非)运算符）</li> <li>转换为数字（调用<code>Number()</code>、<code>parseInt()</code>和<code>parseFloat()</code>方法）</li> <li>转换为字符串（调用<code>.toString()</code>或者<code>String()</code>方法）</li></ul> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><code>null</code> 和 <code>undefined</code> 没有 <code>.toString()</code> 方法</p></div> <h3 id="数据类型的存储"><a href="#数据类型的存储" class="header-anchor">#</a> 数据类型的存储</h3> <p>原始数据类型：直接存储在栈（stack）中，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储。</p> <p>引用数据类型：同时存储在栈（stack）和堆（heap）中，占据空间大、大小不固定。引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。</p> <h2 id="标准内置对象"><a href="#标准内置对象" class="header-anchor">#</a> 标准内置对象</h2> <h3 id="值属性"><a href="#值属性" class="header-anchor">#</a> 值属性</h3> <h3 id="函数属性"><a href="#函数属性" class="header-anchor">#</a> 函数属性</h3> <h3 id="基本对象"><a href="#基本对象" class="header-anchor">#</a> 基本对象</h3> <h3 id="数字和日期对象"><a href="#数字和日期对象" class="header-anchor">#</a> 数字和日期对象</h3> <h3 id="bigint-2"><a href="#bigint-2" class="header-anchor">#</a> BigInt</h3> <p><code>BigInt</code> 是一种内置对象，它提供了一种方法来表示大于 2<sup>53</sup> - 1 的整数。这原本是<code>Javascript</code>中可以用 <code>Number</code> 表示的最大数字。<code>BigInt</code> 可以表示任意大的整数。</p> <p>可以用在一个整数字面量后面加 <code>n</code> 的方式定义一个 <code>BigInt</code> ，如：<code>10n</code>，或者调用函数<code>BigInt()</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> theBiggestInt <span class="token operator">=</span> <span class="token number">9007199254740991n</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> alsoHuge <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">9007199254740991</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 9007199254740991n</span>

<span class="token keyword">const</span> hugeString <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">&quot;9007199254740991&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 9007199254740991n</span>

<span class="token keyword">const</span> hugeHex <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">&quot;0x1fffffffffffff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 9007199254740991n</span>

<span class="token keyword">const</span> hugeBin <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">&quot;0b11111111111111111111111111111111111111111111111111111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 9007199254740991n</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>它在某些方面类似于 <code>Number</code> ，但是也有几个关键的不同点：不能用于 <code>Math</code> 对象中的方法；不能和任何 <code>Number</code> 实例混合运算，两者必须转换成同一种类型。在两种类型来回转换时要小心，因为 <code>BigInt</code> 变量在转换成 <code>Number</code> 变量时可能会丢失精度。</p> <p>以下操作符可以和 <code>BigInt</code> 一起使用： <code>+</code>、<code>*</code>、<code>-</code>、<code>**</code>、<code>%</code> 。除 <code>&gt;&gt;&gt;</code> （无符号右移）之外的 位操作 也可以支持。因为 <code>BigInt</code> 都是有符号的， <code>&gt;&gt;&gt;</code> （无符号右移）不能用于 <code>BigInt</code>。</p> <p>BigInt 和 Number 不是严格相等的，但是宽松相等的。且可以进行比较。两者也可以混在一个数组内并排序。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">0n</span> <span class="token operator">===</span> <span class="token number">0</span>  <span class="token comment">// false</span>

<span class="token number">0n</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// true</span>

<span class="token number">1n</span> <span class="token operator">&lt;</span> <span class="token number">2</span>  <span class="token comment">// true</span>

<span class="token number">2n</span> <span class="token operator">&gt;</span> <span class="token number">1</span>  <span class="token comment">// true</span>

<span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token number">2</span>  <span class="token comment">// false</span>

<span class="token number">2n</span> <span class="token operator">&gt;</span> <span class="token number">2</span>  <span class="token comment">// false</span>

<span class="token number">2n</span> <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token comment">// true</span>

<span class="token keyword">const</span> mixed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4n</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12n</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0n</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//[4n, 6, -12n, 10, 4, 0, 0n]</span>

mixed<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[-12n, 0, 0n, 10, 4n, 4, 6]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="bigint-asintn"><a href="#bigint-asintn" class="header-anchor">#</a> BigInt.asIntN()</h4> <p><code>BigInt.asIntN(width, bigint)</code>静态方法将 <code>BigInt</code> 值转换为一个 -2<sup>width-1</sup> 与 2<sup>width-1</sup>-1 之间的有符号整数。</p> <p><code>BigInt.asIntN()</code> 方法对于保持在64位(64-bit)算数范围内非常有用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> max <span class="token operator">=</span> <span class="token number">2n</span> <span class="token operator">**</span> <span class="token punctuation">(</span><span class="token number">64n</span> <span class="token operator">-</span> <span class="token number">1n</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1n</span><span class="token punctuation">;</span>

BigInt<span class="token punctuation">.</span><span class="token function">asIntN</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 9223372036854775807n</span>

BigInt<span class="token punctuation">.</span><span class="token function">asIntN</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> max <span class="token operator">+</span> <span class="token number">1n</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// -9223372036854775808n  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="bigint-asuintn"><a href="#bigint-asuintn" class="header-anchor">#</a> BigInt.asUintN()</h4> <p><code>BigInt.asUintN(width, bigint)</code>将 <code>BigInt</code> 转换为一个 0 和 2<sup>width</sup>-1 之间的无符号整数。</p> <p><code>BigInt.asUintN()</code> 方法对于保持在64位(64-bit)算数范围内非常有用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> max <span class="token operator">=</span> <span class="token number">2n</span> <span class="token operator">**</span> <span class="token number">64n</span> <span class="token operator">-</span> <span class="token number">1n</span><span class="token punctuation">;</span>

BigInt<span class="token punctuation">.</span><span class="token function">asUintN</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 18446744073709551615n</span>

BigInt<span class="token punctuation">.</span><span class="token function">asUintN</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> max <span class="token operator">+</span> <span class="token number">1n</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 0n</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="执行上下文"><a href="#执行上下文" class="header-anchor">#</a> 执行上下文</h2> <div class="custom-block tip"><p class="custom-block-title">参考</p> <p><a href="https://juejin.im/post/5ba32171f265da0ab719a6d7" target="_blank" rel="noopener noreferrer">[译] 理解 JavaScript 中的执行上下文和执行栈<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p>执行上下文是评估和执行 JavaScript 代码的环境的抽象概念。每当 Javascript 代码在运行的时候，它都是在执行上下文中运行。</p> <h3 id="执行上下文的类型"><a href="#执行上下文的类型" class="header-anchor">#</a> 执行上下文的类型</h3> <p>JavaScript 中有三种执行上下文类型。</p> <ul><li><strong>全局执行上下文</strong>：这是默认或者说基础的上下文，任何不在函数内部的代码都在全局上下文中。它会执行两件事：创建一个全局的 <code>window</code> 对象（浏览器的情况下），并且设置 <code>this</code> 的值等于这个全局对象。一个程序中只会有一个全局执行上下文。</li> <li><strong>函数执行上下文</strong>：每当一个函数被调用时, 都会为该函数创建一个新的上下文。每个函数都有它自己的执行上下文，不过是在函数被调用时创建的。函数上下文可以有任意多个。每当一个新的执行上下文被创建，它会按定义的顺序执行一系列步骤。</li> <li><strong>Eval 函数执行上下文</strong>：执行在 <code>eval</code> 函数内部的代码也会有它属于自己的执行上下文。</li></ul> <h3 id="执行栈"><a href="#执行栈" class="header-anchor">#</a> 执行栈</h3> <p>执行栈是一种拥有后进先出数据结构的栈，被用来存储代码运行时创建的所有执行上下文。</p> <p>当 JavaScript 引擎第一次遇到你的脚本时，它会创建一个全局的执行上下文并且压入当前执行栈。每当引擎遇到一个函数调用，它会为该函数创建一个新的执行上下文并压入栈的顶部。</p> <p>引擎会执行那些执行上下文位于栈顶的函数。当该函数执行结束时，执行上下文从栈中弹出，控制流程到达当前栈中的下一个上下文。</p> <p>以下面的代码为例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> title <span class="token operator">=</span> <span class="token string">'执行栈'</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a函数里1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a函数里2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b函数里'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'全局执行上下文'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>执行栈如下图所示：
<img src="/assets/img/executionStack.b04bb205.png"></p> <h3 id="创建执行上下文"><a href="#创建执行上下文" class="header-anchor">#</a> 创建执行上下文</h3> <p>创建执行上下文有两个阶段： <a href="#%E5%88%9B%E5%BB%BA%E9%98%B6%E6%AE%B5">创建阶段</a>和<a href="#%E6%89%A7%E8%A1%8C%E9%98%B6%E6%AE%B5">执行阶段</a></p> <h4 id="创建阶段"><a href="#创建阶段" class="header-anchor">#</a> 创建阶段</h4> <p>在创建阶段会发生三件事：</p> <ol><li><code>this</code> 值的决定，即我们所熟知的 <a href="#this-%E7%BB%91%E5%AE%9A">This 绑定</a>。</li> <li>创建 <a href="#%E8%AF%8D%E6%B3%95%E7%8E%AF%E5%A2%83">词法环境</a> 组件。</li> <li>创建 <a href="#%E5%8F%98%E9%87%8F%E7%8E%AF%E5%A2%83">变量环境</a> 组件。</li></ol> <h5 id="this-绑定"><a href="#this-绑定" class="header-anchor">#</a> This 绑定</h5> <p>在全局执行上下文中，<code>this</code> 的值指向全局对象。</p> <p>在函数执行上下文中，<code>this</code> 的值取决于该函数是如何被调用的。如果它被一个引用对象调用，那么 <code>this</code> 会被设置成那个对象，否则 <code>this</code> 的值被设置为全局对象或者 <code>undefined</code>（在严格模式下）。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">baz</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

foo<span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'this' 引用 'foo', 因为 'baz' 被对象 'foo' 调用</span>

<span class="token keyword">let</span> bar <span class="token operator">=</span> foo<span class="token punctuation">.</span>baz<span class="token punctuation">;</span>

<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 'this' 指向全局 window 对象，因没有指定引用对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="词法环境"><a href="#词法环境" class="header-anchor">#</a> 词法环境</h5> <p>词法环境是一种规范类型，基于 <code>ECMAScript</code> 代码的词法嵌套结构来定义标识符和具体变量和函数的关联。简单来说词法环境是一种持有标识符—变量映射的结构。</p> <p>一个词法环境由环境记录器和一个可能的引用外部词法环境的空值组成。</p> <ul><li>环境记录器是存储变量和函数声明的实际位置。</li> <li>外部环境的引用意味着它可以访问其父级词法环境（作用域）。</li></ul> <p><strong>词法环境</strong> 有两种类型：</p> <ul><li><strong>全局环境</strong>（在全局执行上下文中）是没有外部环境引用的词法环境。全局环境的外部环境引用是 <code>null</code>。它拥有内建的 Object/Array/等、在环境记录器内的原型函数（关联全局对象，比如 window 对象）还有任何用户定义的全局变量，并且 <code>this</code> 的值指向全局对象。</li> <li>在 <strong>函数环境</strong> 中，函数内部用户定义的变量存储在环境记录器中。并且引用的外部环境可能是全局环境，或者任何包含此内部函数的外部函数。</li></ul> <h5 id="变量环境"><a href="#变量环境" class="header-anchor">#</a> 变量环境</h5> <p>变量环境同样是一个词法环境，其环境记录器持有变量声明语句在执行上下文中创建的绑定关系。</p> <p>在 <code>ES6</code> 中，词法环境组件和变量环境的一个不同就是前者被用来存储函数声明和变量（<code>let</code> 和 <code>const</code>）绑定，而后者只用来存储 <code>var</code> 变量绑定。</p> <p>在创建阶段时，引擎检查代码找出变量和函数声明，虽然函数声明完全存储在环境中，但是变量最初设置为 <code>undefined</code>（<code>var</code> 情况下），或者未初始化（<code>let</code> 和 <code>const</code> 情况下）。这就是可以在声明之前访问 <code>var</code> 定义的变量（虽然是 <code>undefined</code>），但是在声明之前访问 <code>let</code> 和 <code>const</code> 的变量会得到一个引用错误的原因。</p> <h4 id="执行阶段"><a href="#执行阶段" class="header-anchor">#</a> 执行阶段</h4> <p>在执行阶段，JavaScript 会完成对所有这些变量的分配，最后执行代码。</p> <p>如果 JavaScript 引擎不能在源码中声明的实际位置找到 let 变量的值，它会被赋值为 undefined。</p> <h2 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h2> <p>全局作用域、函数作用域和块级作用域</p> <h3 id="变量的作用域"><a href="#变量的作用域" class="header-anchor">#</a> 变量的作用域</h3> <ul><li>var
<ul><li>声明一个变量，可选初始化一个值。</li></ul></li> <li>let
<ul><li>声明一个块作用域的局部变量，可选初始化一个值。</li></ul></li> <li>const
<ul><li>声明一个块作用域的只读常量。</li> <li>const声明创建一个值的只读引用。但这并不意味着它所持有的值是不可变的，只是变量标识符不能重新分配。
在函数之外声明的变量，叫做全局变量，因为它可被当前文档中的任何其他代码所访问。在函数内部声明的变量，叫做局部变量，因为它只能在当前函数的内部访问。</li></ul></li></ul> <h3 id="作用域链"><a href="#作用域链" class="header-anchor">#</a> 作用域链</h3> <p>当查找变量的时候，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级(词法层面上的父级)执行上下文的变量对象中查找，一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的链表就叫做作用域链。</p> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/css.html" class="prev">
        CSS
      </a></span> <span class="next"><a href="/note/vue.html">
        Vue
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6c44c61c.js" defer></script><script src="/assets/js/2.899c2632.js" defer></script><script src="/assets/js/12.b6ddae06.js" defer></script>
  </body>
</html>
